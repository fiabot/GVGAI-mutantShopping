#(Inspired by) Notsnake: http://www.puzzlescript.net/play.html?p=e2c1c8e99b3f9d9b6edd

BasicGame key_handler=Pulse square_size=60
    LevelMapping
        A > avatar ground
        . > ground
        x > paint
        w > wall

    SpriteSet
    	ground > Immovable color=GRAY img=oryx/backGrey
    	paint > Immovable color=DARKBLUE img=newset/paint2
    	prepaint > Flicker limit=2 invisible=TRUE
    	prepainting > Resource limit=2
    	preground > Flicker limit=2 invisible=TRUE
    	pregrounding > Resource limit=2
    	wall > Immovable img=newset/floor5
    	avatar > VerticalAvatar shrinkfactor=0.8 img=newset/painter21

    InteractionSet
    	avatar EOS > stepBack
    	ground avatar > spawn stype=prepaint
    	prepaint ground > spawnIfHasMore resource=prepainting limit=2 stype=paint
    	ground prepaint > killIfOtherHasMore resource=prepainting limit=2  scoreChange=1
    	preground avatar > killSprite
    	paint avatar > spawn stype_other=ground 
    	paint preground > killIfOtherHasMore limit=2
    	prepaint avatar > addHealthPointsToMax

    TerminationSet
    	SpriteCounter limit=0 win=True
    	StopCounter win=True limit=166
    	MultiSpriteCounter win=False limit=320
    	SpriteCounterMore win=False limit=524
